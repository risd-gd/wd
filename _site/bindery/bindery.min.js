// [AIV]  Build version: 2.0.0-alpha.9.1 - Tuesday, October 3rd, 2017, 7:40:04 PM  
 var Bindery=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"📖-"+e},o=function(e){return"."+r(e)},i=function(e){return"."===e[0]?o(e.substr(1)):r(e)};t.default=i},function(e,t,n){function r(){function e(){function e(n){var u;if(null==n);else if("string"==typeof n)r?r.appendChild(u=d.createTextNode(n)):function(e){var t=s(e,/([\.#]?[^\s#.]+)/);/^\.|#/.test(t[1])&&(r=d.createElement("div")),i(t,function(e){var t=e.substring(1,e.length);e&&(r?"."===e[0]?l(r).add(t):"#"===e[0]&&r.setAttribute("id",t):r=d.createElement(e))})}(n);else if("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)r.appendChild(u=d.createTextNode(n.toString()));else if(a(n))i(n,e);else if(o(n))r.appendChild(u=n);else if(n instanceof c)r.appendChild(u=n);else if("object"==typeof n)for(var f in n)if("function"==typeof n[f])/^on\w+/.test(f)?function(e,n){r.addEventListener?(r.addEventListener(e.substring(2),n[e],!1),t.push(function(){r.removeEventListener(e.substring(2),n[e],!1)})):(r.attachEvent(e,n[e]),t.push(function(){r.detachEvent(e,n[e])}))}(f,n):(r[f]=n[f](),t.push(n[f](function(e){r[f]=e})));else if("style"===f)if("string"==typeof n[f])r.style.cssText=n[f];else for(var p in n[f])!function(e,o){if("function"==typeof o)r.style.setProperty(e,o()),t.push(o(function(t){r.style.setProperty(e,t)}));else var i=n[f][e].match(/(.*)\W+!important\W*$/);i?r.style.setProperty(e,i[1],"important"):r.style.setProperty(e,n[f][e])}(p,n[f][p]);else if("attrs"===f)for(var h in n[f])r.setAttribute(h,n[f][h]);else"data-"===f.substr(0,5)?r.setAttribute(f,n[f]):r[f]=n[f];else if("function"==typeof n){var h=n();r.appendChild(u=o(h)?h:d.createTextNode(h)),t.push(n(function(e){o(e)&&u.parentElement?(u.parentElement.replaceChild(e,u),u=e):u.textContent=e}))}return u}for(var n=[].slice.call(arguments),r=null;n.length;)e(n.shift());return r}var t=[];return e.cleanup=function(){for(var e=0;e<t.length;e++)t[e]();t.length=0},e}function o(e){return e&&e.nodeName&&e.nodeType}function i(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}var s=n(11),l=n(12),u="undefined"==typeof window?n(14):window,d=u.document,c=u.Text;(e.exports=r()).context=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OptionType=t.makeRanges=t.last=t.arraysEqual=void 0;var o=n(17),i=r(o),a=n(18),s=r(a),l=n(19),u=r(l),d=n(20),c=r(d);t.arraysEqual=i.default,t.last=s.default,t.makeRanges=u.default,t.OptionType=c.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){var n=this;r(this,e),this.name=t.name?t.name:"Unnamed Bindery Rule",this.selector="",Object.keys(t).forEach(function(e){n[e]=t[e]})};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),l=n(0),u=r(l),d=function(){function e(){o(this,e),this.flowContent=(0,s.default)((0,u.default)(".content")),this.flowBox=(0,s.default)((0,u.default)(".flowbox"),this.flowContent),this.footer=(0,s.default)((0,u.default)(".footer")),this.background=(0,s.default)((0,u.default)(".background")),this.element=(0,s.default)((0,u.default)(".page")+(0,u.default)(".page-size"),this.background,this.flowBox,this.footer)}return i(e,[{key:"overflowAmount",value:function(){var e=this.flowContent.offsetHeight,t=this.flowBox.offsetHeight;if(0===t)throw Error("Bindery: Trying to flow into a box of zero height.");return e-t}},{key:"hasOverflowed",value:function(){return this.overflowAmount()>-5}},{key:"setLeftRight",value:function(e){if("left"===e)this.side=e,this.element.classList.remove((0,u.default)("right")),this.element.classList.add((0,u.default)("left"));else{if("right"!==e)throw Error("Bindery: Setting page to invalid direction"+e);this.side=e,this.element.classList.remove((0,u.default)("left")),this.element.classList.add((0,u.default)("right"))}}},{key:"setPreference",value:function(e){"left"===e&&(this.alwaysLeft=!0),"right"===e&&(this.alwaysRight=!0)}},{key:"suppressErrors",get:function(){return this.suppress||!1},set:function(e){this.suppress=e,e?this.element.classList.add((0,u.default)("is-overflowing")):this.element.classList.remove((0,u.default)("is-overflowing"))}},{key:"isEmpty",get:function(){return!this.hasOutOfFlowContent&&""===this.flowContent.textContent.trim()&&this.flowContent.offsetHeight<1}},{key:"isLeft",get:function(){return"left"===this.side}},{key:"isRight",get:function(){return"right"===this.side}}],[{key:"isSizeValid",value:function(){document.body.classList.remove((0,u.default)("viewing"));var t=new e,n=document.querySelector((0,u.default)(".measure-area"));n||(n=document.body.appendChild((0,s.default)((0,u.default)(".measure-area")))),n.innerHTML="",n.appendChild(t.element);var r=t.flowBox.getBoundingClientRect();return n.parentNode.removeChild(n),r.height>100&&r.width>100}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={px:1,in:96,pt:4/3,pc:16,mm:25.4/96,cm:25.4/96*10},o=function(e,t){return e*r[t]},i=function(e,t){return e/r[t]},a=function(e,t,n){return i(o(e,t),n)},s=/^([+-]?[0-9]+(.?[0-9]+)?)(px|in|cm|mm|pt|pc)$/,l=function(e){return s.test(e)},u=function(e){Object.keys(e).forEach(function(t){if(!l(e[t]))throw"number"==typeof e[t]?Error("Size is missing units { "+t+": "+e[t]+" }"):Error("Invalid size { "+t+": "+e[t]+" }")})},d=function(e){var t=e.match(s);return{val:Number(t[1]),unit:t[3]}},c=function(e){var t=d(e);return o(t.val,t.unit)},f=function(e,t){var n=d(e);return""+i(o(n.val,n.unit),t)+t};t.cssNumberPattern="^([+-]?[0-9]+(.?[0-9]+)?)(px|in|cm|mm|pt|pc)$",t.parseVal=d,t.isValidLength=l,t.isValidSize=u,t.convert=a,t.convertStrToStr=f,t.convertStrToPx=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Replace",n}return i(t,e),a(t,[{key:"afterAdd",value:function(e,t,n,r,o){var i=e.parentNode;if(!i)throw Error("Bindery: Rule assumes element has been added but it has no parent.",e);var a=e.cloneNode(!0),s=this.createReplacement(t,a);return i.replaceChild(s,e),t.pageInProgress.hasOverflowed()?(i.replaceChild(e,s),o(e)):s}},{key:"createReplacement",value:function(e,t){return this.replace(t)}},{key:"replace",value:function(e){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">Default Replacement</sup>'),e}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),i=r(o),a=n(40),s=r(a),l=n(41),u=r(l),d=n(42),c=r(d),f=n(43),p=r(f),h=n(44),g=r(h),m=n(45),v=r(m),y=n(6),b=r(y),w=n(3),k=r(w),x=n(46),_=r(x);t.default={Rule:k.default,Split:function(e){return new i.default(e)},Counter:function(e){return new s.default(e)},FullBleedPage:function(e){return new c.default(e)},Footnote:function(e){return new p.default(e)},RunningHeader:function(e){return new v.default(e)},Replace:function(e){return new b.default(e)},FullBleedSpread:function(e){return new u.default(e)},PageBreak:function(e){return new _.default(e)},PageReference:function(e){return new g.default(e)},createRule:function(e){return new k.default(e)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Out of Flow",n}return i(t,e),a(t,[{key:"beforeAdd",value:function(e){return e.setAttribute("data-ignore-overflow",!0),e}},{key:"afterAdd",value:function(e,t,n,r){return this.createOutOfFlowPages(e,t,r),("same"!==this.continue||t.pageInProgress.hasOutOfFlowContent)&&(n(),"left"!==this.continue&&"right"!==this.continue||t.pageInProgress.setPreference(this.continue)),e}}]),t}(l.default);t.default=u},function(e,t,n){"use strict";var r=n(10).default,o=n(7).default,i=Object.assign(r,o);e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=r(s),u=n(15),d=r(u),c=n(27),f=r(c),p=n(28),h=r(p),g=n(0),m=r(g),v=n(7),y=r(v),b=n(2);n(47);var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),console.log("Bindery 2.0.0-alpha.9.1"),this.autorun=t.autorun||!0,this.autoupdate=t.autoupdate||!1,this.debug=t.debug||!1,b.OptionType.validate(t,{name:"makeBook",autorun:b.OptionType.bool,content:b.OptionType.any,pageSetup:b.OptionType.shape({name:"pageSetup",bleed:b.OptionType.length,margin:b.OptionType.shape({name:"margin",top:b.OptionType.length,inner:b.OptionType.length,outer:b.OptionType.length,bottom:b.OptionType.length}),size:b.OptionType.shape({name:"size",width:b.OptionType.length,height:b.OptionType.length})}),rules:b.OptionType.array}),this.pageSetup=new f.default(t.pageSetup),this.viewer=new h.default({bindery:this}),this.controls=this.viewer.controls,t.startingView&&this.viewer.setMode(t.startingView),this.rules=[],t.rules&&this.addRules(t.rules),t.content)if("string"==typeof t.content){if(this.source=document.querySelector(t.content),!(this.source instanceof HTMLElement))return this.viewer.displayError("Content not specified",'Could not find element that matches selector "'+t.content+'"'),void console.error('Bindery: Could not find element that matches selector "'+t.content+'"');this.autorun&&this.makeBook()}else if("object"===i(t.content)&&t.content.url){var n=t.content.url,r=t.content.selector;this.fetchSource(n,r)}else t.content instanceof HTMLElement?(this.source=t.content,this.autorun&&this.makeBook()):console.error("Bindery: Source must be an element or selector");else this.viewer.displayError("Content not specified","You must include a source element, selector, or url"),console.error("Bindery: You must include a source element or selector")}return a(e,[{key:"fetchSource",value:function(e,t){var n=this;fetch(e).then(function(t){if(404===t.status)n.viewer.displayError("404",'Could not find file at "'+e+'"');else if(200===t.status)return t.text();return""}).then(function(e){var r=(0,l.default)("div");if(r.innerHTML=e,n.source=r.querySelector(t),!(n.source instanceof HTMLElement))return n.viewer.displayError("Source not specified",'Could not find element that matches selector "'+t+'"'),void console.error('Bindery: Could not find element that matches selector "'+t+'"');n.autorun&&n.makeBook()}).catch(function(t){console.error(t),"file"===window.location.href.split("://")[0]&&n.viewer.displayError("Can't fetch content from \""+e+'"',"Web pages can't fetch content unless they are on a server.")})}},{key:"cancel",value:function(){this.viewer.cancel(),document.body.classList.remove((0,m.default)("viewing")),this.source.style.display=""}},{key:"addRules",value:function(e){var t=this;e.forEach(function(e){if(!(e instanceof y.default.Rule))throw Error("Bindery: The following is not an instance of Bindery.Rule and will be ignored: "+e);t.rules.push(e)})}},{key:"updateBookSilent",value:function(){var e=this;this.layoutComplete=!1,this.source.style.display="";var t=this.source.cloneNode(!0);this.source.style.display="none",document.body.classList.add((0,m.default)("viewing")),this.pageSetup.updateStylesheet(),(0,d.default)({content:t,rules:this.rules,success:function(t){e.viewer.book=t,e.viewer.render(),e.controls.setDone(),e.layoutComplete=!0},progress:function(){},error:function(t){e.layoutComplete=!0,e.viewer.displayError("Layout couldn't complete",t)},isDebugging:this.debug})}},{key:"makeBook",value:function(e){var t=this;if(!this.source)return void document.body.classList.add((0,m.default)("viewing"));if(this.layoutComplete=!1,!this.pageSetup.isSizeValid())return this.viewer.displayError("Page is too small","Size: "+JSON.stringify(this.pageSize)+" \n Margin: "+JSON.stringify(this.pageMargin)+" \n Try adjusting the sizes or units."),void console.error("Bindery: Cancelled pagination. Page is too small.");this.source.style.display="";var n=this.source.cloneNode(!0);this.source.style.display="none",this.viewer.clear(),document.body.classList.add((0,m.default)("viewing")),this.viewer.element.classList.add((0,m.default)("in-progress")),this.debug&&document.body.classList.add((0,m.default)("debug")),this.pageSetup.updateStylesheet(),this.controls.setInProgress(),(0,d.default)({content:n,rules:this.rules,success:function(n){t.viewer.book=n,t.viewer.render(),t.layoutComplete=!0,t.controls.setDone(),e&&e(),t.viewer.element.classList.remove((0,m.default)("in-progress")),document.body.classList.remove((0,m.default)("debug"))},progress:function(e){t.viewer.book=e,t.controls.updateProgress(e.pages.length),t.viewer.renderProgress()},error:function(e){t.layoutComplete=!0,t.viewer.element.classList.remove((0,m.default)("in-progress")),t.viewer.displayError("Layout couldn't complete",e)},isDebugging:this.debug})}}],[{key:"makeBook",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.autorun=!t.autorun||t.autorun,new e(t)}}]),e}();t.default=w},function(e,t){/*!
 * Cross-Browser Split 1.1.1
 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 * Available under the MIT License
 * ECMAScript compliant, uniform cross-browser split method
 */
e.exports=function(e){var t=String.prototype.split,n=/()??/.exec("")[1]===e;return function(r,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return t.call(r,o,i);var a,s,l,u,d=[],c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),f=0,o=new RegExp(o.source,c+"g");for(r+="",n||(a=new RegExp("^"+o.source+"$(?!\\s)",c)),i=i===e?-1>>>0:i>>>0;(s=o.exec(r))&&!((l=s.index+s[0].length)>f&&(d.push(r.slice(f,s.index)),!n&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<r.length&&Array.prototype.push.apply(d,s.slice(1)),u=s[0].length,f=l,d.length>=i));)o.lastIndex===s.index&&o.lastIndex++;return f===r.length?!u&&o.test("")||d.push(""):d.push(r.slice(f)),d.length>i?d.slice(0,i):d}}()},function(e,t,n){function r(e){function t(e){var t=d();a(t,e)>-1||(t.push(e),c(t))}function n(e){var t=d(),n=a(t,e);-1!==n&&(t.splice(n,1),c(t))}function r(e){return a(d(),e)>-1}function s(e){return r(e)?(n(e),!1):(t(e),!0)}function l(){return e.className}function u(e){return d()[e]||null}function d(){return o(e.className.split(" "),i)}function c(t){var n=t.length;e.className=t.join(" "),p.length=n;for(var r=0;r<t.length;r++)p[r]=t[r];delete t[n]}var f=e.classList;if(f)return f;var p={add:t,remove:n,contains:r,toggle:s,toString:l,length:0,item:u};return p}function o(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n}function i(e){return!!e}var a=n(13);e.exports=r},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(16),l=r(s),u=n(0),d=r(u),c=n(2),f=n(21),p=r(f),h=n(4),g=r(h),m=n(22),v=r(m),y=n(23),b=r(y),w=n(24),k=r(w),x=n(25),_=r(x),O=n(26),C=r(O),P=function(e){var t=e.content,n=e.rules,r=e.success,i=e.progress,s=e.error,u=e.isDebugging,f=window.performance.now(),h=new v.default(u),m=(0,_.default)(n),y=document.body.appendChild((0,a.default)((0,d.default)(".measure-area"))),w=[],x=new p.default,O=void 0,P=void 0,L=function(){return w[0]?(0,c.last)(w):x.pageInProgress.flowContent},E=function(e){n.forEach(function(t){t.afterPageCreated&&t.afterPageCreated(e,x)})},M=function(){n.forEach(function(e){e.layoutStart&&e.layoutStart()})},S=function(){var e=new g.default;return y.appendChild(e.element),E(e),e},z=function(){x.pages=(0,b.default)(x.pages,S),(0,k.default)(x.pages),x.pageInProgress&&F(x.pageInProgress)},T=function(){if(x.pageInProgress&&x.pageInProgress.hasOverflowed()&&(console.warn("Bindery: Page overflowing",x.pageInProgress.element),!x.pageInProgress.suppressErrors))throw Error("Bindery: Moved to new page when last one is still overflowing");if(500===x.pages.length)console.warn("Bindery: More than 500 pages, performance may be slow.");else if(1e3===x.pages.length)console.warn("Bindery: More than 1000 pages, performance may be slow.");else if(x.pages.length>9999)throw s("Maximum page count exceeded"),Error("Bindery: Maximum page count exceeded. Suspected runaway layout.");z(),w=m(w);var e=S();if(x.pageInProgress=e,O(),x.pages.push(e),w[0]&&e.flowContent.appendChild(w[0]),e.hasOverflowed()){var t=L();t?(console.error("Bindery: NextPage already overflowing, probably due to a style set on "+(0,l.default)(t)+". It may not fit on the page."),t.parentNode.removeChild(t)):console.error("Bindery: NextPage already overflowing.")}return e},j=n.filter(function(e){return e.selector&&e.beforeAdd}),B=n.filter(function(e){return e.selector&&e.afterAdd}),A=n.filter(function(e){return e.eachPage}),R=n.filter(function(e){return e.avoidSplit}).map(function(e){return e.selector}),I=function(e){var t=e;return j.forEach(function(e){t.matches(e.selector)&&(t=e.beforeAdd(t,x,T,S))}),t},N=function(e){var t=e;return B.forEach(function(e){t.matches(e.selector)&&(t=e.afterAdd(t,x,T,S,function(t){return t.parentNode.removeChild(t),T(),L().appendChild(t),e.afterAdd(t,x,T,S,function(){console.log("Couldn't apply "+e.name+" to "+(0,l.default)(t)+". Caused overflows twice.")})}))}),t},H=function(){A.forEach(function(e){x.pages.forEach(function(t){e.eachPage(t,x)})})},F=function(e){A.forEach(function(t){t.eachPage(e,x)})},V=function e(t){return R.some(function(e){return t.matches(e)})?!(!t.hasAttribute("data-bindery-did-move")&&!t.classList.contains((0,d.default)("continuation"))):!t.parentElement||e(t.parentElement)},D=function(e){if(w.pop(),w.length<1)throw Error("Bindery: Attempting to move the top-level element is not allowed");for(var t=e,n=[];w.length>1&&!V(L());)t=w.pop(),n.unshift(t);t.setAttribute("data-bindery-did-move",!0);var r=t.parentNode;r.removeChild(t),w.length>1&&""===L().textContent.trim()&&(r.appendChild(t),t=w.pop(),n.unshift(t),t.parentNode.removeChild(t)),x.pageInProgress.isEmpty?e.setAttribute("data-ignore-overflow",!0):(x.pageInProgress.hasOverflowed()&&(x.pageInProgress.suppressErrors=!0),T()),L().appendChild(t),n.forEach(function(e){w.push(e)}),w.push(e)},U=function(e,t,n){L().appendChild(e),x.pageInProgress.hasOverflowed()?(e.parentNode.removeChild(e),n()):h.throttle(t)},q=function e(t,n,r){var o=t.nodeValue;if(L().appendChild(t),!x.pageInProgress.hasOverflowed())return void h.throttle(n);if(L().hasAttribute("data-ignore-overflow"))return void h.throttle(n);var i=0;!function a(){if(t.nodeValue=o.substr(0,i),x.pageInProgress.hasOverflowed()){for(" "===o.charAt(i)&&(i-=1);" "!==o.charAt(i)&&i>0;)i-=1;if(i<1)return t.nodeValue=o,t.parentNode.removeChild(t),void r();var s=o.substr(0,i),l=o.substr(i);t.nodeValue=s,T();var u=document.createTextNode(l);return void e(u,n,r)}if(i>o.length-1)return void h.throttle(n);for(i+=1;" "!==o.charAt(i)&&i<o.length;)i+=1;h.throttle(a)}()},Z=function(e,t,n){var r=function(){L().appendChild(t),x.pageInProgress.suppressErrors=!0,T(),h.throttle(n)};if(V(e)){q(t,n,function(){w.length>1?(D(e),h.throttle(function(){return q(t,n,r)})):r()})}else{U(t,n,function(){D(e),h.throttle(function(){return U(t,n,r)})})}},G=function e(t,n){x.pageInProgress.hasOverflowed()&&(L().hasAttribute("data-ignore-overflow")||(x.pageInProgress.suppressErrors=!0,T()));var r=I(t);L().appendChild(r),w.push(r);var i=[].concat(o(r.childNodes));r.innerHTML="",x.pageInProgress.hasOverflowed()&&D(r);var a=0;!function t(){if(!(a<i.length)){var o=w.pop();return N(o),void n()}var s=i[a];a+=1,s.nodeType===Node.TEXT_NODE?Z(r,s,t):s.nodeType===Node.ELEMENT_NODE&&"SCRIPT"!==s.tagName?"IMG"!==s.tagName||s.naturalWidth?h.throttle(function(){e(s,t)}):(0,C.default)(s,function(){e(s,t)}):t()}()};O=function(){i(x)},P=function(){if(document.body.removeChild(y),x.pages=(0,b.default)(x.pages,S),(0,k.default)(x.pages),x.setCompleted(),H(),!u){var e=window.performance.now();console.log("Bindery: Pages created in "+(e-f)/1e3+"s")}r(x)},function(){M(),t.style.margin=0,t.style.padding=0,T(),h.throttle(function(){G(t,P)})}()};t.default=P},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){var t=e.tagName.toLowerCase(),n=e.id?"#"+e.id:"",o="";e.classList.length>0&&(o="."+[].concat(r(e.classList)).join("."));var i="";return n.length<1&&o.length<2&&(i='("'+e.textContent.substr(0,30).replace(/\s+/g," ")+'...")'),t+n+o+i};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e[e.length-1]};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t="",n=e[0],r=!1;return e.forEach(function(o,i){var a=i===e.length-1,s=o===n+1;0===i?t+=""+o:a?t+=s?"–"+o:r?"–"+n+", "+o:", "+o:s?r=!0:r&&!s?(r=!1,t+="–"+n+", "+o):t+=", "+o,n=o}),t};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(5),i=function(e,t){return Object.keys(e).forEach(function(n){if(t[n]){var r=e[n],o=t[n];o(r)||console.error("Bindery: For property '"+t.name+"."+n+"', '"+JSON.stringify(r)+"' is not a valid value of type "+o.name)}else console.error("Bindery: '"+t.name+"' doesn't have property '"+n+"'")}),!0},a=function(e){return"object"===(void 0===e?"undefined":r(e))},s={enum:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.includes(e)}},any:function(){return!0},string:function(e){return"string"==typeof e},length:function(e){return(0,o.isValidLength)(e)},bool:function(e){return"boolean"==typeof e},func:function(e){return"function"==typeof e},obj:a,array:function(e){return Array.isArray(e)},shape:function(e){return function(t){return a(t)&&i(t,e)}},validate:i};t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.pages=[],this.queued=[],this.isComplete=!1}return o(e,[{key:"pagesForSelector",value:function(e){return this.pagesForTest(function(t){return t.element.querySelector(e)})}},{key:"pagesForTest",value:function(e){return this.pages.filter(function(t){return e(t.element)}).map(function(e){return e.number})}},{key:"onComplete",value:function(e){this.isComplete?e():this.queued.push(e)}},{key:"setCompleted",value:function(){this.isComplete=!0,this.queued.forEach(function(e){e()}),this.queued=[]}},{key:"pageCount",get:function(){return this.pages.length}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.numberOfCalls=0,this.resumeLimit=1/0,this.callsSinceResume=0,this.queuedFunc=null,this.isPaused=!1,this.useDelay=t,this.delayTime=100,t&&(window.binderyDebug={pause:this.pause.bind(this),resume:this.resume.bind(this),resumeFor:this.resumeFor.bind(this),step:this.step.bind(this),finish:this.finish.bind(this)},console.log("Bindery: Debug layout with the following: \nbinderyDebug.pause() \nbinderyDebug.resume()\n binderyDebug.resumeFor(n) // pauses after n steps, \nbinderyDebug.step()"))}return o(e,[{key:"throttle",value:function(e){this.callsSinceResume+=1,this.callsSinceResume>this.resumeLimit&&this.endResume(),this.isPaused?this.queuedFunc=e:this.useDelay?setTimeout(e,this.delayTime):this.numberOfCalls<1e3?(this.numberOfCalls+=1,e()):(this.numberOfCalls=0,document.hidden?setTimeout(e,1):requestAnimationFrame(e))}},{key:"pause",value:function(){return this.isPaused?"Already paused":(this.isPaused=!0,"Paused")}},{key:"resumeDelay",value:function(){this.useDelay=!0,this.resume()}},{key:"finish",value:function(){this.useDelay=!1,this.resume()}},{key:"resume",value:function(){return this.isPaused?(this.isPaused=!1,this.queuedFunc?(this.queuedFunc(),this.queuedFunc=null,"Resuming"):"Layout complete"):"Already running"}},{key:"step",value:function(){if(!this.isPaused)return this.pause();if(this.queuedFunc){var e=this.queuedFunc,t=e.name;return this.queuedFunc=null,e(),t}return"Layout complete"}},{key:"resumeFor",value:function(e){return this.callsSinceResume=0,this.resumeLimit=e,this.resume()}},{key:"endResume",value:function(){console.log("Paused after "+this.resumeLimit),this.resumeLimit=1/0,this.callsSinceResume=0,this.pause()}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){for(var n=t;n<e.length;n+=1)if(!e[n].isOutOfFlow)return n;return t},o=function(e,t){for(var n=e.slice(),o=0;o<n.length;o+=1){var i=n[o],a=o%2!=0;if(a&&i.alwaysRight||!a&&i.alwaysLeft)if(i.isOutOfFlow){var s=r(n,o+1),l=n[s];n.splice(s,1),n.splice(o,0,l)}else n.splice(o,0,t())}return n};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){e.forEach(function(e,t){e.number=t+1,e.setLeftRight(t%2==0?"right":"left")});var t={h1:"",h2:"",h3:"",h4:"",h5:"",h6:""};e.forEach(function(e){e.heading={},Object.keys(t).forEach(function(n,r){var o=e.element.querySelector(n);o&&(t[n]=o.textContent,Object.keys(t).forEach(function(e,n){n>r&&(t[e]="")})),""!==t[n]&&(e.heading[n]=t[n])})})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){var t=function(t){t.classList.add((0,o.default)("continues")),e.filter(function(e){return e.customContinuesClass}).forEach(function(e){return t.classList.add(e.customContinuesClass)})},n=function(t){t.classList.add((0,o.default)("continuation")),e.filter(function(e){return e.customContinuationClass}).forEach(function(e){return t.classList.add(e.customContinuationClass)})};return function(e){for(var r=[],o=e.length-1;o>=0;o-=1){var i=e[o],a=i.cloneNode(!1);if(a.innerHTML="",t(i),n(a),"OL"===a.tagName){var s=1;i.hasAttribute("start")&&(s=parseInt(i.getAttribute("start"),10)),o<e.length-1&&"LI"===e[o+1].tagName&&(s-=1);var l=i.children.length,u=s+l;a.setAttribute("start",u)}o<e.length-1&&a.appendChild(r[o+1]),r[o]=a}return r}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=e.src.substring(e.src.lastIndexOf("/")+1);console.log("Bindery: Waiting for image '"+n+"' size to load");var r=setInterval(function(){e.naturalWidth&&(clearInterval(r),t())},10);e.addEventListener("error",function(){clearInterval(r),console.error("Bindery: Image '"+n+"' failed to load."),t()}),e.src=e.src};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),s=r(a),l=n(5),u=n(0),d=r(u),c={width:"8.5in",height:"11in"},f={width:"210mm",height:"297mm"},p={bleed:"12pt",size:{width:"4in",height:"6in"},margin:{inner:"24pt",outer:"24pt",bottom:"40pt",top:"48pt"}},h=!!window.chrome&&!!window.chrome.webstore,g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.setSize(t.size||p.size),this.setMargin(t.margin||p.margin),this.setBleed(t.bleed||p.bleed),this.printTwoUp=!1,this.sheetSizeMode=h?"size_page":"size_page_marks"}return i(e,[{key:"setSize",value:function(e){(0,l.isValidSize)(e),this.size=e}},{key:"setMargin",value:function(e){(0,l.isValidSize)(e),this.margin=e}},{key:"setBleed",value:function(e){this.bleed=e}},{key:"setSheetSizeMode",value:function(e){this.sheetSizeMode=e}},{key:"setPrintTwoUp",value:function(e){this.printTwoUp=e}},{key:"isSizeValid",value:function(){return this.updateStylesheet(),s.default.isSizeValid()}},{key:"spreadSizeStyle",value:function(){var e=(0,l.parseVal)(this.size.width);return{height:this.size.height,width:""+2*e.val+e.unit}}},{key:"updateStylesheet",value:function(){var e=void 0,t=document.querySelector("#binderyPageSetup");t?e=t:(e=document.createElement("style"),e.id="binderyPageSetup");var n=(0,l.parseVal)(this.size.width);e.innerHTML="\n@page { size: "+this.sheetSize.width+" "+this.sheetSize.height+"; }\n"+(0,d.default)(".print-page")+" { width: "+this.sheetSize.width+"; height: "+this.sheetSize.height+";}\n\n"+(0,d.default)(".show-crop")+" "+(0,d.default)(".print-page")+" "+(0,d.default)(".spread-wrapper")+",\n"+(0,d.default)(".show-bleed-marks")+" "+(0,d.default)(".print-page")+" "+(0,d.default)(".spread-wrapper")+" {\n  margin: calc("+this.bleed+" + 12pt) auto;\n}\n"+(0,d.default)(".page-size")+" {\n  height: "+this.size.height+";\n  width: "+this.size.width+";\n}\n"+(0,d.default)(".page-size-rotated")+" {\n  height: "+this.size.width+";\n  width: "+this.size.height+";\n}\n"+(0,d.default)(".spread-size")+" {\n  height: "+this.size.height+";\n  width: "+2*n.val+n.unit+";\n}\n"+(0,d.default)(".spread-size-rotated")+" {\n  height: "+2*n.val+n.unit+";\n  width: "+this.size.height+";\n}\n"+(0,d.default)(".flowbox")+",\n"+(0,d.default)(".footer")+" {\n  margin-left: "+this.margin.inner+";\n  margin-right: "+this.margin.outer+";\n}\n"+(0,d.default)(".left")+" "+(0,d.default)(".flowbox")+",\n"+(0,d.default)(".left")+" "+(0,d.default)(".footer")+" {\n  margin-left: "+this.margin.outer+";\n  margin-right: "+this.margin.inner+";\n}\n\n"+(0,d.default)(".left")+" "+(0,d.default)(".running-header")+" {\n  left: "+this.margin.outer+";\n}\n"+(0,d.default)(".right")+" "+(0,d.default)(".running-header")+" {\n  right: "+this.margin.outer+";\n}\n\n"+(0,d.default)(".flowbox")+" { margin-top: "+this.margin.top+"; }\n"+(0,d.default)(".footer")+"{ margin-bottom: "+this.margin.bottom+"; }\n\n"+(0,d.default)(".bleed-left")+",\n"+(0,d.default)(".bleed-right")+",\n"+(0,d.default)(".crop-left")+",\n"+(0,d.default)(".crop-right")+",\n"+(0,d.default)(".crop-fold")+" {\n  top: calc( -12pt - "+this.bleed+" );\n  bottom: calc( -12pt - "+this.bleed+" );\n}\n\n"+(0,d.default)(".bleed-top")+",\n"+(0,d.default)(".bleed-bottom")+",\n"+(0,d.default)(".crop-top")+",\n"+(0,d.default)(".crop-bottom")+" {\n  left: calc( -12pt - "+this.bleed+" );\n  right: calc( -12pt - "+this.bleed+" );\n}\n"+(0,d.default)(".bleed-left")+"   { left: -"+this.bleed+"; }\n"+(0,d.default)(".bleed-right")+"  { right: -"+this.bleed+"; }\n"+(0,d.default)(".bleed-top")+"    { top: -"+this.bleed+"; }\n"+(0,d.default)(".bleed-bottom")+" { bottom: -"+this.bleed+"; }\n\n"+(0,d.default)(".background")+" {\n  top: -"+this.bleed+";\n  bottom: -"+this.bleed+";\n  left: -"+this.bleed+";\n  right: -"+this.bleed+";\n}\n\n"+(0,d.default)(".spread")+(0,d.default)(".right")+" > "+(0,d.default)(".background")+" {\n  left: calc(-100% - "+this.bleed+");\n}\n"+(0,d.default)(".spread")+(0,d.default)(".left")+" > "+(0,d.default)(".background")+" {\n  right: calc(-100% - "+this.bleed+");\n}\n    ",document.head.appendChild(e)}},{key:"displaySize",get:function(){return{width:this.printTwoUp?this.spreadSizeStyle().width:this.size.width,height:this.size.height,bleed:this.bleed}}},{key:"sheetSize",get:function(){var e=this.printTwoUp?this.spreadSizeStyle().width:this.size.width,t=this.size.height,n=this.bleed;switch(this.sheetSizeMode){case"size_page":return{width:e,height:t};case"size_page_bleed":return{width:"calc("+e+" + "+n+" + "+n+")",height:"calc("+t+" + "+n+" + "+n+")"};case"size_page_marks":return{width:"calc("+e+" + "+n+" + "+n+" + 24pt)",height:"calc("+t+" + "+n+" + "+n+" + 24pt)"};case"size_letter_l":return{width:c.height,height:c.width};case"size_letter_p":return c;case"size_a4_p":return f;case"size_a4_l":return{width:f.height,height:f.width}}return{width:e,height:t}}}]),e}();t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),l=n(0),u=r(l),d=n(29),c=r(d),f=n(4),p=r(f),h=n(31),g=r(h),m=n(32),v=r(m),y=n(33),b=r(y),w=n(34),k="grid",x="arrange_one",_=function(){function e(t){var n=t.bindery;o(this,e),this.book=null,this.pageSetup=n.pageSetup,this.zoomBox=(0,s.default)((0,u.default)(".zoom-wrap")),this.element=(0,s.default)((0,u.default)(".root"),this.zoomBox),this.doubleSided=!0,this.printArrange=x,this.isShowingCropMarks=!0,this.isShowingBleedMarks=!1,this.mode=k,this.element.setAttribute("bindery-view-mode",this.mode),this.currentLeaf=0,this.listenForPrint(),this.listenForResize(),this.setGrid=this.setGrid.bind(this),this.setOutline=this.setOutline.bind(this),this.setPrint=this.setPrint.bind(this),this.setFlip=this.setFlip.bind(this),this.controls=new c.default({binder:n,viewer:this}),this.element.classList.add((0,u.default)("in-progress")),this.element.appendChild(this.controls.element),document.body.appendChild(this.element)}return i(e,[{key:"listenForPrint",value:function(){var e=this;if(window.matchMedia){window.matchMedia("print").addListener(function(t){t.matches&&e.setPrint()})}}},{key:"listenForResize",value:function(){var e=this;window.addEventListener("resize",function(){e.throttleResize||(e.updateZoom(),e.throttleResize=setTimeout(function(){e.throttleResize=null},20))})}},{key:"setSheetSize",value:function(e){var t=this;this.pageSetup.setSheetSizeMode(e),this.pageSetup.updateStylesheet(),"print"!==this.mode&&this.setPrint(),this.updateZoom(),setTimeout(function(){t.updateZoom()},300)}},{key:"setPrintArrange",value:function(e){e!==this.printArrange&&(this.printArrange=e,this.pageSetup.setPrintTwoUp(this.isTwoUp),this.pageSetup.updateStylesheet(),"print"===this.mode?this.render():this.setPrint())}},{key:"displayError",value:function(e,t){this.element.parentNode||document.body.appendChild(this.element),this.error||(this.zoomBox.innerHTML="",this.error=(0,g.default)(e,t),this.zoomBox.appendChild(this.error))}},{key:"clear",value:function(){this.book=null,this.lastSpreadInProgress=null,this.zoomBox.innerHTML=""}},{key:"cancel",value:function(){this.element.parentNode&&this.element.parentNode.removeChild(this.element)}},{key:"toggleGuides",value:function(){this.element.classList.toggle((0,u.default)("show-guides"))}},{key:"toggleBleed",value:function(){this.element.classList.add((0,u.default)("show-bleed"))}},{key:"toggleDouble",value:function(){this.doubleSided=!this.doubleSided,this.render()}},{key:"setMode",value:function(e){switch(e){case"grid":case"default":this.mode=k;break;case"interactive":case"flip":this.mode="interactive";break;case"print":case"sheet":this.mode="print";break;case"outline":case"outlines":this.mode="outline";break;default:console.error('Bindery: Unknown view mode "'+e+'"')}}},{key:"setGrid",value:function(){this.mode!==k&&("outline"===this.mode?(this.mode=k,this.updateGuides()):(this.mode=k,this.render()))}},{key:"setOutline",value:function(){"outline"!==this.mode&&(this.mode===k?(this.mode="outline",this.updateGuides()):(this.mode="outline",this.render()))}},{key:"setPrint",value:function(){"print"!==this.mode&&(this.mode="print",this.render())}},{key:"setFlip",value:function(){this.mode="interactive",this.render()}},{key:"render",value:function(){if(this.book){var e=document,t=e.body;this.element.parentNode||t.appendChild(this.element),this.flaps=[],t.classList.add((0,u.default)("viewing")),this.element.setAttribute("bindery-view-mode",this.mode);var n=t.scrollHeight-t.offsetHeight,r=t.scrollTop/n;this.mode===k?this.renderGrid():"outline"===this.mode?this.renderGrid():"interactive"===this.mode?this.renderInteractive():"print"===this.mode?this.renderPrint():this.renderGrid(),t.scrollTop=n*r,this.updateZoom()}}},{key:"renderProgress",value:function(){var e=this,t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.default.apply(void 0,[(0,u.default)(".spread-wrapper")+(0,u.default)(".spread-size")].concat(t))};this.book.pages.forEach(function(n,r){if(!e.zoomBox.contains(n.element)||n.element.parentNode===e.zoomBox)if(e.lastSpreadInProgress&&e.lastSpreadInProgress.children.length<2)e.lastSpreadInProgress.appendChild(n.element);else{if(0===r){var o=new p.default;o.element.style.visibility="hidden",e.lastSpreadInProgress=t(o.element,n.element)}else e.lastSpreadInProgress=t(n.element);e.zoomBox.appendChild(e.lastSpreadInProgress)}}),this.book.pageInProgress&&this.zoomBox.appendChild(this.book.pageInProgress.element),this.updateZoom()}},{key:"updateZoom",value:function(){if(this.zoomBox.firstElementChild){var e=document.body.scrollTop/document.body.scrollHeight,t=this.zoomBox.getBoundingClientRect(),n=this.zoomBox.firstElementChild.getBoundingClientRect().width,r=Math.min(1,t.width/n);this.zoomBox.style.transform="scale("+r+")",document.body.scrollTop=document.body.scrollHeight*e}}},{key:"updateGuides",value:function(){this.element.setAttribute("bindery-view-mode",this.mode),"outline"===this.mode?(this.element.classList.add((0,u.default)("show-bleed")),this.element.classList.add((0,u.default)("show-guides"))):(this.element.classList.remove((0,u.default)("show-bleed")),this.element.classList.remove((0,u.default)("show-guides")))}},{key:"renderPrint",value:function(){this.element.classList.add((0,u.default)("show-bleed")),this.element.classList.remove((0,u.default)("show-guides")),this.zoomBox.innerHTML="";var e="arrange_booklet"===this.printArrange,t=this.orientation,n=this.book.pages.slice();"arrange_two"===this.printArrange?n=(0,b.default)(n):e&&(n=(0,v.default)(n));var r=(0,w.printLayout)(n,this.isTwoUp,t,e);this.zoomBox.appendChild(r)}},{key:"renderGrid",value:function(){this.updateGuides(),this.zoomBox.innerHTML="";var e=this.book.pages.slice();this.doubleSided&&(e=(0,b.default)(e));var t=(0,w.gridLayout)(e,this.doubleSided);this.zoomBox.appendChild(t)}},{key:"renderInteractive",value:function(){this.zoomBox.innerHTML="",this.flaps=[],this.element.classList.remove((0,u.default)("show-bleed")),this.element.classList.remove((0,u.default)("show-guides"));var e=(0,b.default)(this.book.pages.slice()),t=(0,w.flipLayout)(e,this.doubleSided);this.zoomBox.appendChild(t)}},{key:"isTwoUp",get:function(){return this.printArrange!==x}},{key:"isShowingCropMarks",get:function(){return this.element.classList.contains((0,u.default)("show-crop"))},set:function(e){e?(this.element.classList.add((0,u.default)("show-crop")),this.setPrint()):this.element.classList.remove((0,u.default)("show-crop"))}},{key:"isShowingBleedMarks",get:function(){return this.element.classList.contains((0,u.default)("show-bleed-marks"))},set:function(e){e?(this.element.classList.add((0,u.default)("show-bleed-marks")),this.setPrint()):this.element.classList.remove((0,u.default)("show-bleed-marks"))}}]),e}();t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),s=n(0),l=r(s),u=n(30),d=!!window.chrome&&!!window.chrome.webstore,c=function e(t){var n=this;o(this,e),this.binder=t.binder;var r=t.viewer,i=function(){r.setPrint(),window.print()},s=(0,u.btnMain)({onclick:i},"Print"),c=((0,u.btn)({onclick:function(){n.binder.autorun?window.history.back():n.binder.cancel()}},"Done"),d?[(0,u.option)({value:"size_page",selected:!0},"Auto"),(0,u.option)({value:"size_page_bleed"},"Auto + Bleed"),(0,u.option)({value:"size_page_marks"},"Auto + Marks"),(0,u.option)({value:"size_letter_p"},"Letter Portrait"),(0,u.option)({value:"size_letter_l"},"Letter Landscape"),(0,u.option)({value:"size_a4_p"},"A4 Portrait"),(0,u.option)({value:"size_a4_l"},"A4 Landscape")]:[(0,u.option)({value:"size_letter_p",selected:!0},"Default Page Size *"),(0,u.option)({disabled:!0},"Only Chrome supports custom page sizes. Set in your browser's print dialog instead.")]),f=function(){if(d){var e=n.binder.pageSetup.displaySize,t=e.width+" × "+e.height;c[0].textContent=""+t,c[1].textContent=t+" + Bleed",c[2].textContent=t+" + Marks"}};f();var p=function(e){var t=e.target.value;r.setSheetSize(t),"size_page"===t||"size_page_bleed"===t?(y.disabled=!0,y.classList.add((0,l.default)("hidden-select"))):(y.classList.remove((0,l.default)("hidden-select")),y.disabled=!1),n.binder.pageSetup.updateStylesheet()},h=u.select.apply(void 0,[{onchange:p}].concat(c)),g=(0,u.select)({onchange:function(e){r.setPrintArrange(e.target.value),f()}},(0,u.option)({value:"arrange_one",selected:!0},"1 Page / Sheet"),(0,u.option)({value:"arrange_two"},"1 Spread / Sheet"),(0,u.option)({value:"arrange_booklet"},"Booklet Sheets")),m=(0,u.row)(g),v=function(e){switch(e.target.value){case"marks_none":r.isShowingCropMarks=!1,r.isShowingBleedMarks=!1;break;case"marks_crop":r.isShowingCropMarks=!0,r.isShowingBleedMarks=!1;break;case"marks_bleed":r.isShowingCropMarks=!1,r.isShowingBleedMarks=!0;break;case"marks_both":r.isShowingCropMarks=!0,r.isShowingBleedMarks=!0}},y=(0,u.select)({onchange:v},(0,u.option)({value:"marks_none"},"No Marks"),(0,u.option)({value:"marks_crop",selected:!0},"Crop Marks"),(0,u.option)({value:"marks_bleed"},"Bleed Marks"),(0,u.option)({value:"marks_both"},"Crop and Bleed"));d&&y.classList.add((0,l.default)("hidden-select"));var b=(0,u.row)(y),w=(0,u.row)(h),k=(0,a.default)("div",{style:{display:"none",color:"#e2b200"}},"Too Small"),x=function(){n.binder.makeBook(function(){})},_=[(0,u.viewMode)("grid",r.setGrid,"Grid"),(0,u.viewMode)("flip",r.setFlip,"Flip"),(0,u.viewMode)("print",r.setPrint,"Sheet")],O=a.default.apply(void 0,[(0,l.default)(".viewswitcher")].concat(_)),C=(0,a.default)("span","Loading"),P=void 0,L=(0,u.btn)("→",{style:{display:"none"},onclick:function(){return window.binderyDebug.step()}}),E=(0,u.btn)("❙❙",{onclick:function(){window.binderyDebug.pause(),E.style.display="none",P.style.display="",L.style.display=""}});P=(0,u.btn)("▶️",{style:{display:"none"},onclick:function(){window.binderyDebug.resume(),P.style.display="none",E.style.display="",L.style.display="none"}});var M=(0,u.btn)("Finish",{onclick:function(){window.binderyDebug.finish()}}),S=(0,a.default)("div",E,P,L,M);S.classList.add((0,l.default)("debug-controls"));var z=(0,a.default)("a",{onclick:function(){n.binder.debug=!1,x()}},"Refresh");z.classList.add((0,l.default)("refresh"));var T=(0,a.default)("a","🐞",{onclick:function(){P.style.display="none",L.style.display="none",E.style.display="",n.binder.debug=!0,x()}}),j=(0,u.title)((0,a.default)((0,l.default)(".spinner")),C,(0,a.default)((0,l.default)(".refresh-btns"),z,T),S);this.setInProgress=function(){C.textContent="Paginating",k.style.display="none"},this.updateProgress=function(e){C.textContent=e+" Pages"},this.setDone=function(){C.textContent=r.book.pages.length+" Pages",k.style.display="none"},this.setInvalid=function(){k.style.display=""},s.classList.add((0,l.default)("btn-print"));var B=(0,u.row)(m,w,b);B.classList.add((0,l.default)("print-options")),this.element=(0,a.default)((0,l.default)(".controls"),O,B,j,s)};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.viewMode=t.inputNumberUnits=t.option=t.select=t.btnMain=t.btnLight=t.btn=t.heading=t.row=t.title=void 0;var o=n(1),i=r(o),a=n(0),s=r(a),l=n(5),u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".title")].concat(t))},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".heading")].concat(t))},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".row")].concat(t))},f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")].concat(t))},p=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")+"."+(0,s.default)("btn-light")].concat(t))},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["button."+(0,s.default)("btn")+"."+(0,s.default)("btn-main")].concat(t))},g=function(){for(var e=(0,i.default)((0,s.default)(".select-val"),"Value"),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=i.default.apply(void 0,["select."+(0,s.default)("select")].concat(n)),a=function(){e.textContent=o.options[o.selectedIndex].text};return o.addEventListener("change",a),a(),(0,i.default)((0,s.default)(".select-wrap"),e,o)},m=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,["option"].concat(t))},v=function(e){return(0,i.default)("input",{type:"text",value:e,pattern:l.cssNumberPattern})},y=function(e,t,n){var r="."+(0,s.default)("viewmode")+"."+(0,s.default)(e);return(0,i.default)(r,{onclick:t},(0,i.default)((0,s.default)(".icon")))};t.title=u,t.row=c,t.heading=d,t.btn=f,t.btnLight=p,t.btnMain=h,t.select=g,t.option=m,t.inputNumberUnits=v,t.viewMode=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)((0,s.default)(".error"),(0,i.default)((0,s.default)(".error-title"),e),(0,i.default)((0,s.default)(".error-text"),t),(0,i.default)((0,s.default)(".error-footer"),"Bindery 2.0.0-alpha.9.1"))};var o=n(1),i=r(o),a=n(0),s=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){for(;e.length%4!=0;){var t=new o.default;t.element.style.visibility="hidden",e.push(t)}for(var n=[],r=e.length,i=0;i<r/2;i+=2)n.push(e[r-1-i]),n.push(e[i]),n.push(e[i+1]),n.push(e[r-2-i]);return n};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(e){if(e.length%2!=0){var t=new o.default;e.push(t)}var n=new o.default,r=new o.default;return n.element.style.visibility="hidden",r.element.style.visibility="hidden",e.unshift(n),e.push(r),e};t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flipLayout=t.printLayout=t.gridLayout=void 0;var o=n(35),i=r(o),a=n(36),s=r(a),l=n(38),u=r(l);t.gridLayout=i.default,t.printLayout=s.default,t.flipLayout=u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".spread-size")].concat(t))},u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".page-size")].concat(t))},d=function(e,t){var n=document.createDocumentFragment();if(t)for(var r=0;r<e.length;r+=2){var o=l(e[r].element,e[r+1].element);n.appendChild(o)}else e.forEach(function(e){var t=u(e.element);n.appendChild(t)});return n};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),l=n(37),u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".spread-size")].concat(t))},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.apply(void 0,[(0,s.default)(".spread-wrapper")+(0,s.default)(".page-size")].concat(t))},c=function(e,t,n,r){var o=document.createDocumentFragment(),a=t?l.printMarksSpread:l.printMarksSingle,c=t?u:d,f=function(){return(0,i.default)((0,s.default)(".print-page"),c.apply(void 0,arguments))};if(t)for(var p=0;p<e.length;p+=2){var h=a();if(r){var g=(0,l.bookletMeta)(p,e.length);h.appendChild(g)}var m=f(e[p].element,e[p+1].element,h);o.appendChild(m)}else e.forEach(function(e){var t=f(e.element,a());o.appendChild(t)});return o};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.bookletMeta=t.printMarksSpread=t.printMarksSingle=void 0;var i=n(1),a=r(i),s=n(0),l=r(s),u=function(){return[(0,a.default)((0,l.default)(".bleed-top")),(0,a.default)((0,l.default)(".bleed-bottom")),(0,a.default)((0,l.default)(".bleed-left")),(0,a.default)((0,l.default)(".bleed-right"))]},d=function(){return[(0,a.default)((0,l.default)(".crop-top")),(0,a.default)((0,l.default)(".crop-bottom")),(0,a.default)((0,l.default)(".crop-left")),(0,a.default)((0,l.default)(".crop-right"))]},c=function(){return a.default.apply(void 0,[(0,l.default)(".print-mark-wrap")].concat(o(d()),o(u())))},f=function(){return a.default.apply(void 0,[(0,l.default)(".print-mark-wrap"),(0,a.default)((0,l.default)(".crop-fold"))].concat(o(d()),o(u())))},p=function(e,t){var n=e%4==0,r=parseInt((e+1)/4,10)+1;return(0,a.default)((0,l.default)(".print-meta"),"Sheet "+r+" of "+t/4+": "+(n?"Outside":"Inside"))};t.printMarksSingle=c,t.printMarksSpread=f,t.bookletMeta=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(0),s=r(a),l=function(e,t){var n=document.createDocumentFragment(),r=(0,i.default)((0,s.default)(".spread-size")+(0,s.default)(".flip-sizer")),o=(0,i.default)((0,s.default)(".spread-size")+(0,s.default)(".flap-holder"));r.appendChild(o),n.appendChild(r);var a=[],l=-1,u=4;e.length*u>60&&(u=60/e.length),o.style.width=e.length*u+"px";for(var d=function(e){var t=e;t===l&&(t+=1),l=t;var n=4;a.length*n>200&&(n=200/a.length),a.forEach(function(e,r,o){var i=(o.length-Math.abs(r-t+.5))*n;e.style.transform="translate3d("+(r<t?4:0)+"px,0,"+i+"px) rotateY("+(r<t?-180:0)+"deg)"})},c=0,f=1;f<e.length-1;f+=t?2:1)!function(n){c+=1;var r=c,l=(0,i.default)((0,s.default)(".page3d")+(0,s.default)(".page-size"),{onclick:function(){d(r-1)}}),f=e[n].element,p=void 0;f.classList.add((0,s.default)("page3d-front")),l.appendChild(f),t?(l.classList.add((0,s.default)("doubleSided")),p=e[n+1].element,p.classList.add((0,s.default)("page3d-back")),l.appendChild(p)):(p=(0,i.default)((0,s.default)(".page")+(0,s.default)(".page3d-back")),l.appendChild(p)),l.style.left=n*u+"px",a.push(l),o.appendChild(l)}(f);return d(0),n};t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(2),d=function(e){function t(e){r(this,t),e.toNext=e.toNext||"split-to-next",e.fromPrevious=e.fromPrevious||"split-from-previous";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Split",u.OptionType.validate(e,{selector:u.OptionType.string,toNext:u.OptionType.string,fromPrevious:u.OptionType.string}),n}return i(t,e),a(t,[{key:"customContinuesClass",get:function(){return this.toNext}},{key:"customContinuationClass",get:function(){return this.fromPrevious}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(2),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selector="*",n.counterValue=0,u.OptionType.validate(e,{name:"Counter",replaceEl:u.OptionType.string,resetEl:u.OptionType.string,incrementEl:u.OptionType.string,replace:u.OptionType.func}),n}return i(t,e),a(t,[{key:"layoutStart",value:function(){this.counterValue=0}},{key:"beforeAdd",value:function(e){return e.matches(this.incrementEl)&&(this.counterValue+=1),e.matches(this.resetEl)&&(this.counterValue=0),e.matches(this.replaceEl)?this.createReplacement(e):e}},{key:"createReplacement",value:function(e){return this.replace(e,this.counterValue)}},{key:"replace",value:function(e,t){return e.textContent=t,e}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),d=n(8),c=r(d),f=n(2),p=n(0),h=r(p),g=function(e){function t(e){o(this,t),e.continue=e.continue||"same",e.rotate=e.rotate||"none";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Full Bleed Spread",f.OptionType.validate(e,{selector:f.OptionType.string,continue:f.OptionType.enum("next","same","left","right"),rotate:f.OptionType.enum("none","clockwise","counterclockwise")}),n}return a(t,e),s(t,[{key:"createOutOfFlowPages",value:function(e,t,n){var r=this;e.parentNode.removeChild(e);var o=void 0;t.pageInProgress.isEmpty?o=t.pageInProgress:(o=n(),t.pages.push(o));var i=n();t.pages.push(i),"none"!==this.rotate&&[o,i].forEach(function(e){var t=(0,u.default)((0,h.default)(".rotate-container"));t.classList.add((0,h.default)("spread-size-rotated")),t.classList.add((0,h.default)("rotate-spread-"+r.rotate)),t.appendChild(e.background),e.element.appendChild(t)}),o.background.appendChild(e),o.element.classList.add((0,h.default)("spread")),o.setPreference("left"),o.isOutOfFlow="same"===this.continue,o.hasOutOfFlowContent=!0,i.background.appendChild(e.cloneNode(!0)),i.element.classList.add((0,h.default)("spread")),i.setPreference("right"),i.isOutOfFlow="same"===this.continue,i.hasOutOfFlowContent=!0}}]),t}(c.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),d=n(8),c=r(d),f=n(2),p=n(0),h=r(p),g=function(e){function t(e){o(this,t),e.continue=e.continue||"same",e.rotate=e.rotate||"none";var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Full Bleed Page",f.OptionType.validate(e,{selector:f.OptionType.string,continue:f.OptionType.enum("next","same","left","right"),rotate:f.OptionType.enum("none","inward","outward","clockwise","counterclockwise")}),n}return a(t,e),s(t,[{key:"createOutOfFlowPages",value:function(e,t,n){e.parentNode.removeChild(e);var r=void 0;if(t.pageInProgress.isEmpty?r=t.pageInProgress:(r=n(),t.pages.push(r)),"none"!==this.rotate){var o=(0,u.default)((0,h.default)(".rotate-container"));o.classList.add((0,h.default)("page-size-rotated")),o.classList.add((0,h.default)("rotate-"+this.rotate)),o.appendChild(r.background),r.element.appendChild(o)}r.background.appendChild(e),r.hasOutOfFlowContent=!0}}]),t}(c.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},u=n(1),d=r(u),c=n(6),f=r(c),p=n(2),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Footnote",p.OptionType.validate(e,{selector:p.OptionType.string,replace:p.OptionType.func,render:p.OptionType.func}),n}return a(t,e),s(t,[{key:"afterAdd",value:function(e,n,r,o,i){var a=n.pageInProgress.footer.children.length+1,s=(0,d.default)(".footnote"),u=this.render(e,a);return u instanceof HTMLElement?s.appendChild(u):s.innerHTML=u,n.pageInProgress.footer.appendChild(s),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"afterAdd",this).call(this,e,n,r,o,function(e){return n.pageInProgress.footer.removeChild(s),i(e)})}},{key:"createReplacement",value:function(e,t){var n=e.pageInProgress.footer.children.length;return this.replace(t,n)}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeEnd",'<sup class="bindery-sup">'+t+"</sup>"),e}},{key:"render",value:function(e,t){return"<sup>"+t+"</sup> Default footnote (<a href='/bindery/docs/#footnote'>Learn how to change it</a>)"}}]),t}(f.default);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),u=r(l),d=n(2),c=n(0),f=r(c),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Page Reference",d.OptionType.validate(e,{selector:d.OptionType.string,replace:d.OptionType.func,createTest:d.OptionType.func}),n}return a(t,e),s(t,[{key:"afterAdd",value:function(e,t){var n=this,r=this.createTest(e);if(r){var o=e.parentNode,i=e.cloneNode(!0),a=t.pagesForTest(r),s=(0,d.makeRanges)(a),l=this.replace(i,s||"###");return l.classList.add((0,f.default)("placeholder-pulse")),o.replaceChild(l,e),t.onComplete(function(){var o=l.parentNode,i=e.cloneNode(!0),a=t.pagesForTest(r),s=(0,d.makeRanges)(a),u=n.replace(i,s);o.replaceChild(u,l)}),l}return e}},{key:"createTest",value:function(e){var t=e.getAttribute("href");return t?(t=t.replace("#",""),t='[id="'+t+'"]',function(e){return e.querySelector(t)}):null}},{key:"replace",value:function(e,t){return e.insertAdjacentHTML("beforeend",", <span>"+t+"</span>"),e}}]),t}(u.default);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),d=n(3),c=r(d),f=n(2),p=n(0),h=r(p),g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Running Header",f.OptionType.validate(e,{render:f.OptionType.func}),n}return a(t,e),s(t,[{key:"eachPage",value:function(e){if(!e.runningHeader){var t=(0,u.default)((0,h.default)(".running-header"));e.element.appendChild(t),e.runningHeader=t}e.runningHeader.innerHTML=this.render(e)}},{key:"render",value:function(e){return e.number}}]),t}(c.default);t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(2),d=function(e){function t(e){r(this,t),e.position=e.position||"before",e.continue=e.continue||"any";var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name="Page Break",u.OptionType.validate(e,{selector:u.OptionType.string,continue:u.OptionType.enum("any","left","right"),position:u.OptionType.enum("before","after","both","avoid")}),n}return i(t,e),a(t,[{key:"beforeAdd",value:function(e,t,n){return"before"!==this.position&&"both"!==this.position||(t.pageInProgress.isEmpty||n(),"any"!==this.continue&&t.pageInProgress.setPreference(this.continue)),e}},{key:"afterAdd",value:function(e,t,n){if("after"===this.position||"both"===this.position){var r=n();"any"!==this.continue&&r.setPreference(this.continue)}return e}},{key:"avoidSplit",get:function(){return"avoid"===this.position}}]),t}(l.default);t.default=d},function(e,t,n){var r=n(48);"string"==typeof r&&(r=[[e.i,r,""]]);n(59)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(49)(),t.push([e.i,'@media screen{.📖-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);overflow:hidden}.📖-show-bleed .📖-page{box-shadow:none;outline:none;overflow:visible}.📖-page:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:999}}li.📖-continuation,p.📖-continuation{text-indent:unset!important}li.📖-continuation{list-style:none!important}.📖-out-of-flow{display:none}.📖-page{width:200px;height:300px;position:relative;display:flex;flex-direction:column;flex-wrap:nowrap;margin:auto}.📖-flowbox{position:relative;margin:60px 40px;margin-bottom:0;flex:1 1 auto;min-height:0}.📖-content{padding:.1px;position:relative}.📖-footer{margin:60px 40px;margin-top:8pt;flex:0 1 auto;z-index:2}.📖-background{position:absolute;z-index:0;overflow:hidden}.📖-left>.📖-background{right:0}.📖-right>.📖-background{left:0}.📖-sup{font-size:.667em}.📖-footer,.📖-running-header{font-size:10pt}.📖-running-header{position:absolute;text-align:center;top:.25in}.📖-left .📖-running-header{left:18pt;text-align:left}.📖-right .📖-running-header{right:18pt;text-align:right}.📖-left .📖-rotate-container.📖-rotate-outward,.📖-left .📖-rotate-container.📖-rotate-spread-clockwise,.📖-right .📖-rotate-container.📖-rotate-inward,.📖-rotate-container.📖-rotate-clockwise{transform:rotate(90deg) translate3d(0,-100%,0);transform-origin:top left}.📖-left .📖-rotate-container.📖-rotate-inward,.📖-left .📖-rotate-container.📖-rotate-spread-counterclockwise,.📖-right .📖-rotate-container.📖-rotate-outward,.📖-rotate-container.📖-rotate-counterclockwise{transform:rotate(-90deg) translate3d(-100%,0,0);transform-origin:top left}.📖-rotate-container{position:absolute}.📖-left .📖-rotate-container.📖-rotate-clockwise .📖-background{bottom:0}.📖-left .📖-rotate-container.📖-rotate-counterclockwise .📖-background,.📖-right .📖-rotate-container.📖-rotate-clockwise .📖-background{top:0}.📖-right .📖-rotate-container.📖-rotate-counterclockwise .📖-background,.📖-rotate-container.📖-rotate-inward .📖-background{bottom:0}.📖-rotate-container.📖-rotate-outward .📖-background{top:0}.📖-right .📖-rotate-container.📖-rotate-spread-clockwise{transform:rotate(90deg) translate3d(0,-50%,0);transform-origin:top left}.📖-right .📖-rotate-container.📖-rotate-spread-counterclockwise{transform:rotate(-90deg) translate3d(-100%,-50%,0);transform-origin:top left}.📖-print-mark-wrap{display:none;position:absolute;pointer-events:none;top:0;bottom:0;left:0;right:0;z-index:999}.📖-show-bleed-marks .📖-print-mark-wrap,.📖-show-bleed-marks .📖-print-mark-wrap>[class*=bleed],.📖-show-crop .📖-print-mark-wrap,.📖-show-crop .📖-print-mark-wrap>[class*=crop]{display:block}.📖-print-mark-wrap>div{display:none;position:absolute;overflow:hidden}.📖-print-mark-wrap>div:after,.📖-print-mark-wrap>div:before{content:"";display:block;position:absolute}.📖-print-mark-wrap>div:before{top:0;left:0}.📖-print-mark-wrap>div:after{bottom:0;right:0}.📖-bleed-left,.📖-bleed-right,.📖-crop-fold,.📖-crop-left,.📖-crop-right{width:1px;margin:auto}.📖-bleed-left:after,.📖-bleed-left:before,.📖-bleed-right:after,.📖-bleed-right:before,.📖-crop-fold:after,.📖-crop-fold:before,.📖-crop-left:after,.📖-crop-left:before,.📖-crop-right:after,.📖-crop-right:before{width:1px;height:12pt;background-image:linear-gradient(90deg,#000 0,#000 51%,transparent 0);background-size:1px 100%}.📖-bleed-bottom,.📖-bleed-top,.📖-crop-bottom,.📖-crop-top{height:1px}.📖-bleed-bottom:after,.📖-bleed-bottom:before,.📖-bleed-top:after,.📖-bleed-top:before,.📖-crop-bottom:after,.📖-crop-bottom:before,.📖-crop-top:after,.📖-crop-top:before{width:12pt;height:1px;background-image:linear-gradient(180deg,#000 0,#000 51%,transparent 0);background-size:100% 1px}.📖-crop-fold{right:0;left:0}.📖-crop-left{left:0}.📖-crop-right{right:0}.📖-crop-top{top:0}.📖-crop-bottom{bottom:0}.📖-print-meta{padding:12pt;text-align:center;font-family:-apple-system,BlinkMacSystemFont,Roboto,sans-serif;font-size:8pt;display:block!important;position:absolute;bottom:-60pt;left:0;right:0}@media screen{.📖-viewing{background:#f4f4f4!important}.📖-root{transition:opacity .2s;opacity:1;padding:10px;position:relative;padding-top:80px;animation:fadeUp .3s;min-height:90vh}.📖-measure-area,.📖-root{background:#f4f4f4;z-index:99}.📖-measure-area{position:fixed;padding:50px 20px;visibility:hidden;left:0;right:0;bottom:0}.📖-measure-area .📖-page{margin:0 auto 50px}.📖-zoom-wrap *{transition:box-shadow .2s}.📖-show-guides .bindery-zoom-wrap *{box-shadow:inset 0 0 0 1px rgba(0,92,255,.2)}.📖-show-guides .📖-page:after{box-shadow:0 0 0 1px #f0f}.📖-show-guides .📖-flowbox,.📖-show-guides .📖-footer,.📖-show-guides .📖-running-header{box-shadow:0 0 0 1px cyan}.📖-show-guides .📖-content{box-shadow:inset 0 0 0 1px blue}.📖-show-guides .📖-background{box-shadow:0 0 0 1px #ff0}.📖-show-guides .📖-out-of-flow{display:block;outline:1px solid cyan}.📖-show-guides .📖-out-of-flow:after{font:10px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;content:attr(data-bindery);position:absolute;background:rgba(0,255,255,.5);padding:4px}.📖-show-guides .📖-right .📖-out-of-flow:after{left:100%}.📖-show-guides .📖-left .📖-out-of-flow:after{right:100%}.📖-is-overflowing{border-bottom:1px solid #f0f}.📖-print-page{margin:0 auto}.📖-error{font:16px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;margin:15vh 15vw;max-width:500px;padding-top:64px}.📖-error-title{font-size:1.5em;margin-bottom:16px}.📖-error-text{margin-bottom:16px;white-space:pre-line}.📖-error-footer{opacity:.5;font-size:.66em;text-transform:uppercase;letter-spacing:.02em}.📖-show-bleed .📖-print-page{background:#fff;outline:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.2);margin:20px auto}.📖-placeholder-pulse{animation:pulse 1s infinite}}@keyframes fadeUp{0%{opacity:0}to{opacity:1}}@keyframes pulse{0%{opacity:.2}50%{opacity:.5}to{opacity:.2}}@page{margin:0}@media print{.📖-root *{-webkit-print-color-adjust:exact;color-adjust:exact}.📖-controls,.📖-viewing>:not(.📖-root){display:none!important}.📖-print-page{padding:1px;margin:0 auto}.📖-zoom-wrap[style]{transform:none!important}}body.📖-viewing{margin:0}.📖-zoom-wrap{transform-origin:top left;transform-style:preserve-3d;height:calc(100vh - 120px)}[bindery-view-mode=interactive] .📖-zoom-wrap{transform-origin:center left}.📖-viewing>:not(.📖-root):not(.📖-measure-area){display:none!important}.📖-print-page{page-break-after:always;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;transition:all .2s}.📖-spread-wrapper{position:relative;display:flex;width:800px;margin:0 auto 50px}.📖-print-page .📖-spread-wrapper{margin:0 auto}.📖-flap-holder{perspective:5000px;position:absolute;top:0;right:0;left:0;bottom:0;margin:auto;transform-style:preserve-3d}.📖-flip-sizer{position:relative;margin:auto;padding:0 20px;box-sizing:content-box}.📖-page3d{margin:auto;width:400px;height:600px;transform:rotateY(0);transform-style:preserve-3d;transform-origin:left;transition:transform .5s,box-shadow .1s;position:absolute;left:0;right:0;top:0;bottom:0}.📖-page3d:hover{box-shadow:2px 0 4px rgba(0,0,0,.2)}.📖-page3d.flipped{transform:rotateY(-180deg)}.📖-page3d .📖-page{position:absolute;backface-visibility:hidden;-webkit-backface-visibility:hidden;box-shadow:none}.📖-page3d .📖-page3d-front{transform:rotateY(0)}.📖-page3d .📖-page3d-back{transform:rotateY(-180deg)}@media screen{.📖-viewing .📖-controls{display:flex!important}}.📖-controls{font:14px/1.4 -apple-system,BlinkMacSystemFont,Roboto,sans-serif;display:none;flex-direction:row;align-items:start;position:fixed;top:0;left:0;right:0;z-index:999;margin:auto;color:#000;padding:10px;overflow:visible;-webkit-font-smoothing:antialiased}.📖-controls *{font:inherit;color:inherit;margin:0;padding:0;box-sizing:border-box}.📖-controls a{color:blue;text-decoration:none}.📖-row{position:relative;display:flex;flex-wrap:wrap;align-items:start;cursor:default;user-select:none;margin-left:8px;margin-bottom:8px}.📖-title{position:relative;display:flex;padding:8px 16px;transition:opacity .2s;display:none;white-space:nowrap;overflow:hidden;margin-right:auto;opacity:0}.📖-in-progress .📖-title{opacity:1;display:flex}.📖-title span{transition:all .2s}.📖-title:hover .📖-refresh-btns{opacity:1}.📖-title:hover span{opacity:0}.📖-print-options{opacity:1;display:none}[bindery-view-mode=print] .📖-print-options{display:flex}.📖-in-progress .📖-print-options{opacity:0;display:none}.📖-spinner{border:1px solid transparent;border-left-color:#000;width:20px;height:20px;border-radius:50%;vertical-align:middle;opacity:0;pointer-events:none;transition:all .2s;transform:scale(.4);margin-right:16px}.📖-in-progress .📖-spinner{opacity:1;animation:spin .6s linear infinite}.📖-debug .📖-spinner{animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.📖-controls .📖-btn{-webkit-appearance:none;color:#000;padding:8px 16px;border:0;cursor:pointer;display:inline-block;border-radius:2px;margin-right:8px;text-decoration:none}.📖-controls .📖-btn:focus{outline:none;box-shadow:0 1px 3px rgba(0,0,0,.2)}.📖-controls .📖-btn:hover{background:#eee}.📖-controls .📖-btn:active{background:#ddd}.📖-controls .📖-btn:last-child{margin-right:0}.📖-controls .📖-btn-light{background:none;border:none}.📖-controls .📖-btn-main{background:blue;border-color:blue;color:#fff}.📖-controls .📖-btn-main:hover{background:blue;opacity:.7}.📖-controls .📖-btn-main:active{background:#000;opacity:1}.📖-btn-print{margin-left:auto;transition:all .8s}.📖-in-progress .📖-btn-print{opacity:.5;pointer-events:none}.📖-debug .📖-btn-print{display:none}.📖-viewswitcher{opacity:1;transform:scale(1);transition:all .8s;transition-delay:.2s;user-select:none;overflow:hidden;display:flex;flex-direction:row;border-radius:2px}.📖-in-progress .📖-viewswitcher{pointer-events:none}.📖-viewmode{color:#444;cursor:pointer;padding:0 8px;border-radius:2px}.📖-viewmode:hover{background:#eee}.📖-viewmode:active{background:#ddd}.📖-viewmode .📖-icon{height:36px;width:32px;background:currentColor;margin:0 auto}.📖-viewmode.📖-grid .📖-icon{-webkit-mask:url('+n(50)+") no-repeat 50% 50%}[bindery-view-mode=grid] .📖-viewmode.📖-grid .📖-icon{-webkit-mask-image:url("+n(51)+")}.📖-viewmode.📖-flip .📖-icon{-webkit-mask:url("+n(52)+") no-repeat 50% 50%}[bindery-view-mode=interactive] .📖-viewmode.📖-flip .📖-icon{-webkit-mask-image:url("+n(53)+")}.📖-viewmode.📖-outline .📖-icon{-webkit-mask:url("+n(54)+") no-repeat 50% 50%}[bindery-view-mode=outline] .📖-viewmode.📖-outline .📖-icon{-webkit-mask-image:url("+n(55)+")}.📖-viewmode.📖-print .📖-icon{-webkit-mask:url("+n(56)+") no-repeat 50% 50%}[bindery-view-mode=print] .📖-viewmode.📖-print .📖-icon{-webkit-mask-image:url("+n(57)+")}[bindery-view-mode=grid] .📖-grid,[bindery-view-mode=interactive] .📖-flip,[bindery-view-mode=outline] .📖-outline,[bindery-view-mode=print] .📖-print{color:blue}.📖-select-wrap{padding:8px 16px;padding-right:28px;background:url("+n(58)+") no-repeat 50% 50%;background-color:#f4f4f4;background-position:100%;border-radius:2px;transition:all .2s;white-space:nowrap;width:100%}.📖-select-wrap:active,.📖-select-wrap:hover{background-color:#eee}.📖-select-wrap.📖-hidden-select{max-width:0;padding-left:0;padding-right:0;border-left-width:0;border-right-width:0;color:transparent}.📖-select{position:absolute;top:0;left:0;opacity:0;-webkit-appearance:none;-moz-appearance:none;padding:8px 16px;color:#000;border:transparent;width:100%}.📖-debug-controls{display:none}.📖-debug .📖-in-progress .📖-debug-controls{display:block}.📖-refresh-btns{opacity:0;position:absolute;top:0;left:0;padding:8px 0;transition:all .2s}.📖-in-progress .📖-refresh-btns{display:none}.📖-refresh-btns a{margin-left:1em;cursor:pointer}.📖-refresh-btns a:hover{color:#000}.📖-controls .📖-options-toggle{display:none}@media screen and (max-width:720px){[bindery-view-mode=print].📖-root{padding-top:120px}.📖-controls,.📖-print-options{background:#f4f4f4}.📖-print-options{top:56px;left:0;right:0;position:fixed;margin:0 8px 0 0}.📖-print-options.📖-options-hidden{display:none}}@media screen and (max-width:500px){[bindery-view-mode=print].📖-root{padding-top:190px}.📖-print-options{flex-direction:column;align-items:stretch}.📖-hidden-select{max-width:none;max-height:0}}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-rule='evenodd'%3E%3Cpath d='M5 8H16V24H5zM17 8H28V24H17z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000000' fill='none' fill-rule='evenodd'%3E%3Cpath d='M0.5 0.5H11.5V15.5H0.5z' transform='translate(5 8)'/%3E%3Cpath d='M22.5,15.5 L22.5,0.5' stroke-linecap='square' transform='translate(5 8)'/%3E%3Cpath d='M16.5,8.5 L16.5,23.5 L16.9093327,23.5 L24.5,20.6534998 L24.5,5.72150023 L17.1755617,8.46816459 L17,8.5 L16.5,8.5 Z'/%3E%3Cpath d='M27.5 23.5L16.5 23.5M24.5 8.5L27.5 8.5' stroke-linecap='square'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21,3 L23,3 L23,19 L14.8480012,19 L21,16.6930005 L21,3 Z M0,3 L11,3 L11,19 L0,19 L0,3 Z M12,3 L20,0 L20,16 L12,19 L12,3 Z' transform='translate(5 5)' fill='%23000000' fill-rule='evenodd'/%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg stroke='%23000000'%3E%3Cpath d='M.5.5H11.5V15.5H.5zM11.5.5H22.5V15.5H11.5z' transform='translate(5 8)'/%3E%3C/g%3E%3Cpath stroke='%23000000' d='M8.5 13.5H13.5V20.5H8.5z'/%3E%3Cpath fill='%23000000' d='M8 11H14V12H8z'/%3E%3Cpath stroke='%23000000' d='M19.5 13.5H24.5V20.5H19.5z'/%3E%3Cpath fill='%23000000' d='M19 11H25V12H19z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5,8 L16,8 L16,24 L5,24 L5,8 Z M17,8 L28,8 L28,24 L17,24 L17,8 Z M8,13 L8,21 L14,21 L14,13 L8,13 Z M8,11 L8,12 L14,12 L14,11 L8,11 Z M19,13 L19,21 L25,21 L25,13 L19,13 Z M19,11 L19,12 L25,12 L25,11 L19,11 Z M9,20 L9,14 L13,14 L13,20 L9,20 Z M20,20 L20,14 L24,14 L24,20 L20,20 Z' fill='%23000000' fill-rule='evenodd'/%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath stroke='%23000000' d='M9.5 5.5H22.5V11.5H9.5zM22.5 22.5L26 22.5C26.8284271 22.5 27.5 21.8284271 27.5 21L27.5 13C27.5 12.1715729 26.8284271 11.5 26 11.5L6 11.5C5.17157288 11.5 4.5 12.1715729 4.5 13L4.5 21C4.5 21.8284271 5.17157288 22.5 6 22.5L9.5 22.5 9.5 17.5 22.5 17.5 22.5 22.5z'/%3E%3Ccircle fill='%23000000' cx='25' cy='14' r='1'/%3E%3Cpath stroke='%23000000' d='M9.5 17.5H22.5V25.5H9.5z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000000' fill-rule='evenodd'%3E%3Cpath d='M9 5H23V10H9zM24 23L24 18 8 18 8 23 6 23 6 23C4.8954305 23 4 22.1045695 4 21L4 21 4 13C4 11.8954305 4.8954305 11 6 11L26 11C27.1045695 11 28 11.8954305 28 13L28 21C28 22.1045695 27.1045695 23 26 23L24 23zM25 15C25.5522847 15 26 14.5522847 26 14 26 13.4477153 25.5522847 13 25 13 24.4477153 13 24 13.4477153 24 14 24 14.5522847 24.4477153 15 25 15z'/%3E%3Cpath d='M9 19H23V27H9z'/%3E%3C/g%3E%3C/svg%3E\""},function(e,t){e.exports="\"data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 14L16 19 21 14' stroke='%23000000' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E\""},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(l(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(l(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],l=o[3],u={css:a,media:s,sourceMap:l};n[i]?n[i].parts.push(u):t.push(n[i]={id:i,parts:[u]})}return t}function o(e,t){var n=g(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function l(e,t){var n,r,o;if(t.singleton){var l=v++;n=m||(m=a(t)),r=u.bind(null,n,l,!1),o=u.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=c.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=d.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function u(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),g=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,y=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=h()),void 0===t.insertAt&&(t.insertAt="bottom");var o=r(e);return n(o,t),function(e){for(var i=[],a=0;a<o.length;a++){var s=o[a],l=f[s.id];l.refs--,i.push(l)}if(e){n(r(e),t)}for(var a=0;a<i.length;a++){var l=i[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=bindery.min.js.map 